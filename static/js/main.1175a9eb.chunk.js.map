{"version":3,"sources":["components/Header/logo.png","components/Search/Search.js","components/Home/Home.js","components/Login/Login.js","components/Signup/Signup.js","components/Results/Results.js","components/PlaceReview/PlaceReview.js","components/WriteReview/WriteReview.js","components/Specific-Drink/SearchForDrink.js","components/Header/Header.js","components/Profile/Profile.js","components/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Search","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","setState","query","target","value","handleSelect","formatted_address","state","bind","assertThisInitialized","_this2","_this$state","react_default","a","createElement","className","es","params","key","libraries","render","googleMaps","react_google_places_suggest_es","autocompletionRequest","input","onSelectSuggest","Input","placeholder","onChange","react_router_dom","to","pathname","place","Button","Component","Home","components_Search_Search","Login","props","email","password","redirect","message","login","handlelogin","handleError","handleChangeEmail","handleChangePassword","auth","firebase","onAuthStateChanged","user","signInWithEmailAndPassword","catch","e","updatelogin","_this3","react_router","errorMessage","Form","Group","controlId","FormControl","type","id","onClick","basic","color","Signup","dummy","confirmPassword","signup","handleChangeConfirmPassword","console","log","ref","createUserWithEmailAndPassword","uid","child","set","reviews","Results","filterOptions","text","handleFilter","_ref","showDrinkDropdown","placesRequest","location","window","google","maps","LatLng","geo","lat","lng","keyword","rankBy","places","RankBy","DISTANCE","map","Map","document","PlacesService","search","response","results","sort","b","rating","filterOption","drinkFilterOption","apiKey","geolocUrl","searchUrl","componentDidMount","locUrl","concat","replace","axios","get","then","data","geometry","error","nextProps","_this4","drinkOptions","cardView","DrinkDropdown","require","createReactClass","displayName","Dropdown","fluid","selection","options","_ref3","_ref2","handleDrinkFilter","length","boba","idx","name","vicinity","build_default","starDimension","starSpacing","starRatedColor","starEmptyColor","style","zIndex","_ref4","PlaceReview","_isMounted","showMenuList","showMenuReview","selectedId","selectedMenu","selectedReview","selectedPrice","ourId","drinkArr","selectedRating","handleMenu","makeFakeDrinks","makeAFakeDrink","rootRef","placesRef","realThis","ourPlaceId","orderByChild","equalTo","on","snapshot","count","exists","forEach","snap","val","newPlaceRef","push","fakeDrinks","newPlace","placeId","drinks","inPlaceId","fakeDrinksObjIds","drinksRef","oolong","price","classic","taro","green","drink","ourDrinkId","revArr","totalRating","avgRating","keyNum","undefined","_ret","buffer","v","tArr","tBuffer","i","overallRating","_this$props$location$","MenuList","mapDrinks","button","MenuReview","backButtonPressed","icon","content","keys","review","size","ice","sugar","mapToppings","toppings","description","currentUser","labelPosition","WriteReview","handleMenuSelection","menuOC","showMenuWarning","handleSizeSelection","selectedSize","sizeOC","showSizeWarning","handleIceSelection","selectedIce","iceOC","showIceWarning","handleSugarSelection","selectedSugar","sugarOC","showSugarWarning","handleToppingSelection","_ref5","selectedTopping","toppingOC","handleRatingSelection","_ref6","ratingOC","showRatingWarning","handleAdditionalReview","_ref7","additionalReview","handleSubmitReview","reviewsRef","ourRating","finalSelectedTopping","includes","splice","indexOf","ourOptions","ourDescription","ourReviewId","newReview","drinkId","menuOptions","arr","Warning","_ref8","_ref9","_ref10","_ref11","multiple","_ref12","_ref13","Form_Form","TextArea","label","_ref14","Header","menu","signout","dropdown","hide","signOut","addEventListener","removeEventListener","hello","loggedIn","Icon","link","route","hash","src","Profile","oldPassword","newPassword","edit","userReviews","editPassword","handleChangeOldPassword","handleChangeNewPassword","changePassword","dbuser","credential","EmailAuthProvider","reauthenticateAndRetrieveDataWithCredential","updatePassword","err","App","logged","basename","components_Header_Header","exact","path","component","components_Login_Login","components_Signup_Signup","components_Profile_Profile","Boolean","hostname","match","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","ReactDOM","components_App_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1175a9eb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.31605d4f.png\";","import './Search.scss';\r\nimport React, { Component } from 'react';\r\nimport {Input, Button } from 'semantic-ui-react'\r\nimport ReactGoogleMapLoader from \"react-google-maps-loader\"\r\nimport ReactGooglePlacesSuggest from \"react-google-places-suggest\"\r\nimport propTypes from \"prop-types\";\r\nimport { Link } from 'react-router-dom'\r\nimport * as firebase from 'firebase';\r\n\r\nconst API_KEY = \"AIzaSyDFtzabY5k6-NOC6V1h3b-LjftEvZyW2MY\";\r\n\r\nclass Search extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      query: '',\r\n      value: '',\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      query: event.target.value,\r\n      value: event.target.value\r\n    });\r\n  }\r\n\r\n  handleSelect = (event) => {\r\n    this.setState({\r\n      query: '',\r\n      value: event.formatted_address\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {query, value} = this.state\r\n    return (\r\n      <div className=\"search\">\r\n\r\n        <ReactGoogleMapLoader\r\n        params={{key: API_KEY,\r\n        libraries: \"places,geocode\"}}\r\n        render={googleMaps => googleMaps && (\r\n          <div className=\"search-bar\">\r\n            <ReactGooglePlacesSuggest\r\n            autocompletionRequest={{input: query}}\r\n            googleMaps={googleMaps}\r\n            onSelectSuggest={this.handleSelect}>\r\n            <Input className=\"search-form\"\r\n            placeholder=\"Search for location (address, zip code..)\"\r\n            onChange={this.handleChange}\r\n            value={value}/>\r\n            </ReactGooglePlacesSuggest>\r\n            <Link to={{\r\n              pathname: \"/Results/\" + value,\r\n              state: {\r\n                place: value\r\n              }}} >\r\n              <Button className = \"ui color2 button\">Search</Button>\r\n            </Link>\r\n          </div>\r\n        )}>\r\n        </ReactGoogleMapLoader>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSearch.propTypes = {\r\n  googleMaps: propTypes.object,\r\n}\r\n\r\nexport default Search;\r\n","import './Home.scss';\r\nimport React, { Component } from 'react';\r\nimport Search from '../Search/Search.js'\r\n\r\nclass Home extends Component {\r\n   render() {\r\n     return (\r\n       <div className=\"Home\">\r\n         <p className=\"intro\">\r\n           Looking for a boba place?\r\n           <br></br>\r\n           Have no idea what to get at a boba shop?\r\n           <br></br>\r\n           Want to leave a review for specific boba at a place?\r\n           <br></br>\r\n           Search for a place to find boba places nearby. Login to leave reviews.\r\n         </p>\r\n          <Search />\r\n       </div>\r\n     );\r\n   }\r\n}\r\n\r\nexport default Home;\r\n","import './Login.scss';\r\nimport React, { Component } from 'react';\r\nimport {Form, FormControl} from 'react-bootstrap';\r\nimport { Button } from 'semantic-ui-react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport * as firebase from 'firebase';\r\n\r\nclass Login extends Component {\r\n   constructor(props){\r\n       super(props);\r\n       \r\n       this.state = {\r\n           email: '',\r\n           password: '',\r\n           redirect: false,\r\n           message: '',\r\n       }\r\n       \r\n       this.login = this.login.bind(this);\r\n       this.handlelogin = this.handlelogin.bind(this);\r\n       this.handleError = this.handleError.bind(this);\r\n       this.handleChangeEmail = this.handleChangeEmail.bind(this);\r\n       this.handleChangePassword = this.handleChangePassword.bind(this);\r\n   }\r\n    \r\n  login() {\r\n    var email = this.state.email;\r\n    var password = this.state.password;\r\n    const auth = firebase.auth();\r\n\r\n    if (email !== '' && password !== '') {\r\n      // ref.push({\r\n      //   name: email,\r\n      //   password: password\r\n      // });\r\n      auth.onAuthStateChanged((user) => {\r\n        if (user) {\r\n          this.handlelogin();\r\n        } \r\n      })\r\n      \r\n      const promise = auth.signInWithEmailAndPassword(email, password);\r\n      promise\r\n          .catch(e=>this.handleError(e.message));\r\n      \r\n    } else {\r\n      this.handleError('invalid email/password');\r\n    }\r\n  }\r\n\r\n  handlelogin() {\r\n    this.props.updatelogin(true);\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n  }\r\n\r\n  handleError(message) {\r\n    this.setState({\r\n      message: message\r\n    })\r\n  }\r\n    \r\n  handleChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value\r\n    });\r\n  }\r\n\r\n  handleChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  }\r\n    \r\n   render() {\r\n     if (this.state.redirect) {\r\n       return (\r\n         <Redirect to='/Profile'/>\r\n        //  <Link to={{\r\n        //   pathname: \"/Results/\" + value,\r\n        //   state: {\r\n        //     place: value\r\n        //   }}} >\r\n        //   <Button className = \"ui color2 button\">Search</Button>\r\n        // </Link>\r\n       )\r\n     }\r\n     let errorMessage = <p></p>\r\n     if (this.state.message) {\r\n        errorMessage = <p className=\"errorMessage\"> {this.state.message} </p>\r\n     }\r\n     return (\r\n       <div className=\"login\">\r\n        <div className=\"login-field\">\r\n        {errorMessage}\r\n         <Form>\r\n          <Form.Group controlId=\"formGroupEmail\">\r\n           <FormControl type=\"email\" onChange={this.handleChangeEmail} placeholder=\"Email\" />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formGroupPassword\">\r\n           <FormControl type=\"password\" onChange={this.handleChangePassword} placeholder=\"Password\" />\r\n          </Form.Group>\r\n          </Form>\r\n          <Button id=\"login-button\" onClick={() => this.login()}> Log In </Button>\r\n          <Link to=\"/Signup\">\r\n            <Button basic color=\"black\" id=\"signup-button\"> Don't have an account? Sign up! </Button>\r\n          </Link>\r\n          </div>\r\n       </div>\r\n     );\r\n   }\r\n}\r\n\r\nexport default Login;\r\n","import './Signup.scss';\r\nimport React, { Component } from 'react';\r\nimport {Form, FormControl} from 'react-bootstrap';\r\nimport { Button } from 'semantic-ui-react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport * as firebase from 'firebase';\r\n\r\n// misterred250@gmail.com\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        dummy: 'hello world',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        redirect: false,\r\n        message: ''\r\n      }\r\n\r\n\r\n      this.signup = this.signup.bind(this);\r\n      this.handlelogin = this.handlelogin.bind(this);\r\n      this.handleError = this.handleError.bind(this);\r\n      this.handleChangeEmail = this.handleChangeEmail.bind(this);\r\n      this.handleChangePassword = this.handleChangePassword.bind(this);\r\n      this.handleChangeConfirmPassword = this.handleChangeConfirmPassword.bind(this);\r\n      \r\n  }\r\n\r\n  signup() {\r\n    console.log('let\\'s do some firebase');\r\n    \r\n    var email = this.state.email;\r\n    var password = this.state.password;\r\n    var confirmPassword = this.state.confirmPassword;\r\n      \r\n    const auth = firebase.auth();\r\n    const ref = firebase.database().ref('users');\r\n    \r\n\r\n    if (email !== '' && password !== '' && confirmPassword !== '' \r\n      && password === confirmPassword) {\r\n      // ref.push({\r\n      //   name: email,\r\n      //   password: password\r\n      // });\r\n      \r\n        const promise = auth.createUserWithEmailAndPassword(email, password);\r\n        promise\r\n            .catch(e=>this.handleError(e.message));\r\n        \r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                // User logged in already or has just logged in.\r\n                console.log(\"created user uid in database\", user.uid);\r\n                ref.child(user.uid).set({\r\n                    email: email,\r\n                    reviews: [\"init\"] \r\n                });\r\n                this.handlelogin();\r\n            } \r\n        });\r\n      \r\n    } else {\r\n      this.handleError('invalid email/password');\r\n    }\r\n\r\n  }\r\n\r\n  handlelogin() {\r\n    this.props.updatelogin(true);\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n  }\r\n\r\n  handleError(message) {\r\n    this.setState({\r\n      message: message\r\n    })\r\n  }\r\n\r\n  handleChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value\r\n    });\r\n  }\r\n\r\n  handleChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  }\r\n\r\n  handleChangeConfirmPassword(e) {\r\n    this.setState({\r\n      confirmPassword: e.target.value\r\n    });\r\n  }\r\n\r\n   render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect to='/Profile'/>\r\n      )\r\n    }\r\n    let errorMessage = <p></p>\r\n    if (this.state.message) {\r\n       errorMessage = <p className=\"errorMessage\"> {this.state.message} </p>\r\n    }\r\n    return (\r\n       <div className=\"signup\">\r\n        <div className=\"signup-field\">\r\n         {errorMessage}\r\n         <Form className=\"signup-input\">\r\n          <Form.Group controlId=\"formGroupEmail\">\r\n           <FormControl type=\"email\" className=\"email\" onChange={this.handleChangeEmail} placeholder=\"Email\" />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formGroupPassword\">\r\n           <FormControl type=\"password\" className=\"password\" onChange={this.handleChangePassword} placeholder=\"Password\" />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formGroupPassword\">\r\n           <FormControl type=\"password\" className=\"confirmPassword\" onChange={this.handleChangeConfirmPassword} placeholder=\"Confirm Password\" />\r\n          </Form.Group>\r\n          </Form>\r\n          <Button id=\"signup-button\" onClick={() => this.signup()}> Sign Up! </Button>\r\n          </div>\r\n       </div>\r\n     );\r\n   }\r\n}\r\n\r\nexport default Signup;\r\n","import './Results.scss';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Dropdown } from 'semantic-ui-react';\r\nimport { Input, Button } from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\nimport StarRatings from 'react-star-ratings';\r\nimport Search from '../Search/Search.js';\r\nimport ReactGoogleMapLoader from \"react-google-maps-loader\";\r\nimport ReactGooglePlacesSuggest from \"react-google-places-suggest\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst API_KEY = \"AIzaSyDFtzabY5k6-NOC6V1h3b-LjftEvZyW2MY\";\r\n\r\nclass Results extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      geo: {},\r\n      results: [],\r\n      filterOption: \"Sort By Distance\",\r\n      showDrinkDropdown: false,\r\n      drinkFilterOption: \"\",\r\n      query: '',\r\n      value: ''\r\n    }\r\n\r\n    this.apiKey = '&key=AIzaSyDFtzabY5k6-NOC6V1h3b-LjftEvZyW2MY';\r\n\r\n    this.geolocUrl = 'https://maps.googleapis.com/maps/api/geocode/json?address=';\r\n    this.searchUrl = 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=';\r\n\r\n    this.componentDidMount = this.componentDidMount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    //console.log(this.props)\r\n    const {place} = this.props.location.state;\r\n\r\n    this.setState({\r\n      query: place,\r\n      value: place\r\n    })\r\n\r\n\r\n    let locUrl = `${this.geolocUrl}${place.replace(/\\s/g,'+')}${this.apiKey}`;\r\n    console.log(locUrl);\r\n    axios.get(locUrl).then((response) => {\r\n      this.setState({\r\n        geo: response.data.results[0].geometry.location\r\n      })\r\n\r\n      var placesRequest = {\r\n        location: new window.google.maps.LatLng(this.state.geo.lat, this.state.geo.lng),\r\n        keyword: '(bubble tea) OR (boba)',\r\n        rankBy: window.google.maps.places.RankBy.DISTANCE,\r\n      };\r\n\r\n      let map = new window.google.maps.Map(document.createElement('div'));\r\n      let service = new window.google.maps.places.PlacesService(map);\r\n\r\n      service.search(placesRequest, ((response) => {\r\n        this.setState({\r\n          results: response\r\n        })\r\n        //console.log(this.state.results);\r\n      }))\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.location.state && nextProps.location.state !== this.props.location.state) {\r\n      let place = nextProps.location.state.place;\r\n      this.setState({\r\n        query: place,\r\n        value: place\r\n      });\r\n      let locUrl = `${this.geolocUrl}${place.replace(/\\s/g,'+')}${this.apiKey}`;\r\n\r\n      axios.get(locUrl).then((response) => {\r\n        this.setState({\r\n          geo: response.data.results[0].geometry.location\r\n        })\r\n\r\n        var placesRequest = {\r\n          location: new window.google.maps.LatLng(this.state.geo.lat, this.state.geo.lng),\r\n          keyword: '(bubble tea) OR (boba)',\r\n          rankBy: window.google.maps.places.RankBy.DISTANCE,\r\n        };\r\n\r\n        let map = new window.google.maps.Map(document.createElement('div'));\r\n        let service = new window.google.maps.places.PlacesService(map);\r\n\r\n        service.search(placesRequest, ((response) => {\r\n          this.setState({\r\n            results: response\r\n          })\r\n          //console.log(this.state.results);\r\n        }))\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n      }\r\n  }\r\n\r\n  filterOptions = [\r\n    {\r\n      key: \"distance\",\r\n      value: \"distance\",\r\n      text: \"Sort By Distance\"\r\n    },\r\n    {\r\n      key: \"rating\",\r\n      value: \"rating\",\r\n      text: \"Sort By Place Rating\"\r\n    },\r\n    {\r\n      key: \"drink rating\",\r\n      value: \"drink rating\",\r\n      text: \"Sort By Drink Rating\"\r\n    }\r\n  ]\r\n\r\n  handleFilter = (e, {value}) => {\r\n    console.log(value);\r\n    if (value === \"distance\") {\r\n      this.setState({showDrinkDropdown: false});\r\n      var placesRequest = {\r\n        location: new window.google.maps.LatLng(this.state.geo.lat, this.state.geo.lng),\r\n        keyword: '(bubble tea) OR (boba)',\r\n        rankBy: window.google.maps.places.RankBy.DISTANCE,\r\n      };\r\n\r\n      let map = new window.google.maps.Map(document.createElement('div'));\r\n      let service = new window.google.maps.places.PlacesService(map);\r\n\r\n      service.search(placesRequest, ((response) => {\r\n        this.setState({\r\n          results: response\r\n        })\r\n        //console.log(this.state.results);\r\n      }))\r\n    }\r\n\r\n\r\n    if (value === \"rating\") {\r\n      this.state.results.sort((a,b) => b.rating - a.rating);\r\n      this.setState({showDrinkDropdown: false});\r\n    }\r\n\r\n    if (value === \"drink rating\") {\r\n      this.setState({showDrinkDropdown: true});\r\n    }\r\n\r\n\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      query: event.target.value,\r\n      value: event.target.value\r\n    });\r\n  }\r\n\r\n  handleSelect = (event) => {\r\n    this.setState({\r\n      query: event.formatted_address,\r\n      value: event.formatted_address\r\n    })\r\n  }\r\n\r\n   render() {\r\n     let {query, value} = this.state;\r\n     const drinkOptions = [\r\n       {\r\n         key: \"oolong milk tea\",\r\n         value: \"oolong milk tea\",\r\n         text: \"Oolong Milk Tea\"\r\n       },\r\n       {\r\n         key: \"classic milk tea\",\r\n         value: \"classic milk tea\",\r\n         text: \"Classic Milk Tea\"\r\n       },\r\n       {\r\n         key: \"taro milk tea\",\r\n         value: \"taro milk tea\",\r\n         text: \"Taro Milk Tea\"\r\n       },\r\n       {\r\n        key: \"milk green tea\",\r\n        value: \"milk green tea\",\r\n        text: \"Milk Green Tea\"\r\n      }\r\n     ]\r\n\r\n     function handleDrinkFilter(e, {value}) {\r\n       //this.setState({drinkFilterOption: {value}})\r\n       console.log({value})\r\n     }\r\n\r\n      var createReactClass = require('create-react-class');\r\n\r\n\r\n      var DrinkDropdown = createReactClass({\r\n        render: function() {\r\n        return (\r\n          <div id=\"results\" className=\"search-results\">\r\n            <Dropdown\r\n              placeholder='Search for Drink'\r\n              fluid\r\n              search\r\n              selection\r\n              options={drinkOptions}\r\n              onChange={(e, { value }) => handleDrinkFilter(e, { value })}\r\n            />\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n\r\n    // console.log('results', this.state.results);\r\n\r\n    let cardView;\r\n\r\n    if (this.state.results.length === 0) {\r\n      cardView = <p className=\"noResults\"> Sorry, there are no boba places from this search </p>;\r\n    } else { \r\n      cardView = <div className=\"cards\">\r\n                  {this.state.results.map((boba, idx) =>\r\n                    <Link to={{\r\n                      pathname: \"/PlaceReview\",\r\n                      state: {\r\n                        place: boba,\r\n                        search: value\r\n                      }}} key={idx} >\r\n                    <div className=\"bobaPlace\">\r\n                      <p id = \"place_name\"> {boba.name} </p>\r\n                      <p>{boba.vicinity}</p>\r\n                      <span id = \"place_rating\"> {boba.rating} / 5.0 </span>\r\n                      <StarRatings\r\n                        rating={boba.rating}\r\n                        starDimension=\"15px\"\r\n                        starSpacing=\"2px\"\r\n                        starRatedColor=\"#6FB59B\"\r\n                        starEmptyColor = \"#D9D9D9\"\r\n                      />\r\n                    </div>\r\n                    </Link>\r\n                  )}\r\n                </div>;\r\n    }\r\n\r\n     return (\r\n       <div className=\"results\">\r\n        <div className = \"top\">\r\n           <div className=\"searchAgain\">\r\n\r\n             <ReactGoogleMapLoader\r\n             params={{key: API_KEY,\r\n             libraries: \"places,geocode\"}}\r\n             render={googleMaps => googleMaps && (\r\n               <div className=\"searchAgainBar\">\r\n                 <ReactGooglePlacesSuggest\r\n                 autocompletionRequest={{input: query}}\r\n                 googleMaps={googleMaps}\r\n                 onSelectSuggest={this.handleSelect}>\r\n                 <Input className=\"searchAgainForm\"\r\n                 placeholder=\"Search for location (address, zip code..)\"\r\n                 onChange={this.handleChange}\r\n                 value={value}/>\r\n                 </ReactGooglePlacesSuggest>\r\n                 <Link to={{\r\n                   pathname: \"/Results/\" + value,\r\n                   state: {\r\n                     place: value\r\n                   }}} >\r\n                   <Button className=\"searchAgainButton\">Search</Button>\r\n                 </Link>\r\n               </div>\r\n             )}>\r\n             </ReactGoogleMapLoader>\r\n           </div>\r\n            <div className=\"filterDropdown\" style = {{zIndex: 1}}>\r\n                <Dropdown className=\"order-select\" onChange={(e, {value}) => this.handleFilter(e, { value })}\r\n                placeholder={this.state.filterOption}\r\n                fluid\r\n                selection\r\n                options={this.filterOptions} />\r\n\r\n                { this.state.showDrinkDropdown ? <DrinkDropdown /> : null }\r\n            </div>\r\n          </div>\r\n        {cardView}\r\n       </div>\r\n     );\r\n   }\r\n}\r\n\r\nexport default Results;\r\n","import './PlaceReview.scss';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Icon, Rating } from 'semantic-ui-react'\r\nimport createReactClass from 'create-react-class';\r\nimport * as firebase from 'firebase';\r\nimport StarRatings from 'react-star-ratings';\r\n\r\nclass PlaceReview extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      showMenuList: true,\r\n      showMenuReview: false,\r\n      selectedId: \"\",\r\n      selectedMenu: \"no selected menu\",\r\n      selectedReview: [],\r\n      selectedPrice: 0,\r\n      dummy: {},\r\n      ourId: '',\r\n      drinkArr: [],\r\n      selectedRating: null\r\n    }\r\n\r\n    this.handleMenu = this.handleMenu.bind(this);\r\n    this.makeFakeDrinks = this.makeFakeDrinks.bind(this);\r\n    this.makeAFakeDrink = this.makeAFakeDrink.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    // this.props.requestPageOfPlans();\r\n    console.log('page loaded', this.props.location.state.place);\r\n    const rootRef = firebase.database().ref();\r\n    const placesRef = rootRef.child('places');\r\n    const place = this.props.location.state.place;\r\n    var realThis = this;\r\n\r\n    var ourPlaceId = \"\";\r\n\r\n    // let's check for dupes first!\r\n    // var isDupe = false;\r\n    placesRef.orderByChild('placeId').equalTo(place.id).on('value', function(snapshot) {\r\n      // console.log('snapshot', snapshot.val());\r\n      var count = 0;\r\n      if (snapshot.exists() && count === 0) {\r\n        count++;\r\n        snapshot.forEach(function(data) {\r\n          // console.log('data key',data.key);\r\n          ourPlaceId = data.key;\r\n      });\r\n        // ourPlaceId = snapshot.val();\r\n        // isDupe = true;\r\n\r\n        // console.log('our place id', ourPlaceId);\r\n\r\n        // view firebase db\r\n        if (realThis._isMounted) {\r\n          rootRef.on('value', snap=> {\r\n            realThis.setState({\r\n              dummy: snap.val(),\r\n              ourId: ourPlaceId,\r\n            });\r\n          });\r\n        }\r\n\r\n      } else if (count === 0) {\r\n        count++;\r\n        // create a new id for firebase\r\n        var newPlaceRef = placesRef.push();\r\n        // add our prefix to the id\r\n        ourPlaceId = \"PLC\" + newPlaceRef.key;\r\n\r\n        // create fake drinks with our id and return an array of drink objIds\r\n        const fakeDrinks = realThis.makeFakeDrinks(ourPlaceId);\r\n\r\n        // create new place object\r\n        var newPlace = {\r\n          name: place.name,\r\n          placeId: place.id,\r\n          drinks: fakeDrinks\r\n        }\r\n        // send new place object to firebase\r\n        placesRef.child(ourPlaceId).set(newPlace);\r\n\r\n        // console.log('our place id', ourPlaceId);\r\n\r\n        // view firebase db\r\n        if (realThis._isMounted) {\r\n          rootRef.on('value', snap=> {\r\n            realThis.setState({\r\n              dummy: snap.val(),\r\n              ourId: ourPlaceId,\r\n            });\r\n          });\r\n        }\r\n\r\n      }\r\n    });\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  makeFakeDrinks(inPlaceId) {\r\n    var fakeDrinksObjIds = [];\r\n\r\n    var placeId = inPlaceId;\r\n    var drinksRef = firebase.database().ref(\"drinks\");\r\n\r\n    var oolong = {\r\n            name: \"Oolong Milk Tea\",\r\n            price: 3.29,\r\n            place: placeId,\r\n            reviews: [\"init\"]\r\n    };\r\n    var classic = {\r\n          name: \"Classic Milk Tea\",\r\n          price: 3.29,\r\n          place: placeId,\r\n          reviews: [\"init\"]\r\n    };\r\n    var taro = {\r\n        name: \"Taro Milk Tea\",\r\n        price: 4.29,\r\n        place: placeId,\r\n        reviews: [\"init\"]\r\n    };\r\n    var green = {\r\n        name: \"Milk Green Tea\",\r\n        price: 3.50,\r\n        place: placeId,\r\n        reviews: [\"init\"]\r\n    };\r\n\r\n    fakeDrinksObjIds.push(this.makeAFakeDrink(oolong, drinksRef));\r\n    fakeDrinksObjIds.push(this.makeAFakeDrink(classic, drinksRef));\r\n    fakeDrinksObjIds.push(this.makeAFakeDrink(taro, drinksRef));\r\n    fakeDrinksObjIds.push(this.makeAFakeDrink(green, drinksRef));\r\n\r\n    return fakeDrinksObjIds;\r\n  }\r\n\r\n  makeAFakeDrink(drink, drinksRef) {\r\n    var newDrinkRef = drinksRef.push();\r\n    const ourDrinkId = \"DRK\" + newDrinkRef.key;\r\n\r\n    drinksRef.child(ourDrinkId).set(drink);\r\n    return {ourDrinkId};\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  handleMenu(e, {value}, {drinkArr}) {\r\n    var realThis = this;\r\n    let revArr = {};\r\n    let totalRating = 0;\r\n    let avgRating = -1;\r\n    let keyNum = 0;\r\n    console.log('click review', e, value, drinkArr);\r\n\r\n    firebase.database().ref().child('reviews').orderByChild('drinkId').equalTo(value[0]).on('value', function(snapshot) {\r\n      if (snapshot.exists()) {\r\n        snapshot.forEach(function(data) {\r\n          revArr[data.key] = data.val();\r\n        });\r\n      }\r\n\r\n      console.log('revArr', revArr);\r\n      for (var key in revArr) {\r\n        keyNum += 1;\r\n        console.log(key)\r\n        totalRating += revArr[key].rating\r\n      }\r\n      console.log(totalRating);\r\n      if (keyNum > 0) {\r\n        avgRating = totalRating / keyNum;\r\n      }\r\n      console.log(avgRating)\r\n      // if (revArr.length >= 1) {\r\n      //   for (var i = 0; i < revArr.length; i++) {\r\n      //     totalRating += revArr[i].rating\r\n      //   }\r\n      //\r\n      //   avgRating = totalRating / revArr.length;\r\n      //   console.log(avgRating);\r\n      // }\r\n\r\n\r\n      realThis.setState({\r\n        selectedMenu: value[1].name,\r\n        selectedPrice: value[1].price,\r\n        selectedReview: revArr,\r\n        showMenuList: false,\r\n        selectedRating: avgRating\r\n      });\r\n    })\r\n  }\r\n\r\n  backButtonPressed(e) {\r\n    this.setState({showMenuList: true});\r\n    console.log(this.state.selectedReview);\r\n  }\r\n\r\nmapDrinks() {\r\n  if (this.state.dummy === undefined || this.state.dummy === null) {\r\n      return <li> no menu </li>\r\n  }\r\n  else {\r\n    let drinkArr = this.state.dummy.drinks;\r\n    // let drinkArr = {};\r\n    let buffer = [];\r\n\r\n      for (var key in drinkArr) {\r\n        if (drinkArr[key].place === this.state.ourId)\r\n                buffer.push(\r\n                <div className = \"menuRow\" key={key}>\r\n                <Button basic color='grey' className = \"singleMenu\" value = {[key, drinkArr[key]]} onClick = {(e, {value}) =>\r\n                  this.handleMenu(e, {value}, {drinkArr})}>\r\n                  <p className = \"drinkName\"> {drinkArr[key].name} </p>\r\n                  <p className = \"drinkDetails\">{\"$\" + drinkArr[key].price} </p>\r\n                  </Button>\r\n                  </div>);\r\n        }\r\n        console.log('buffer', buffer);\r\n\r\n    return buffer;\r\n  }\r\n}\r\n\r\nmapToppings(tArr) {\r\n  let tBuffer = \"\"\r\n  for (var i = 0; i < tArr.length -1; i++) {\r\n    tBuffer +=  tArr[i] + \", \"\r\n  }\r\n  tBuffer += tArr[tArr.length -1];\r\n  console.log(tBuffer)\r\n  return tBuffer;\r\n}\r\n\r\n\r\n  render() {\r\n    console.log('dummy', this.state.dummy);\r\n    // console.log('user', firebase.auth().currentUser);\r\n\r\n    const {place, search} = this.props.location.state;\r\n\r\n    var createReactClass = require('create-react-class');\r\n\r\n    var realThis = this;\r\n\r\n    var MenuList = createReactClass({\r\n      render: function() {\r\n        //console.log(\"that\")\r\n      return (\r\n        <div id=\"menuList\" >\r\n          <p> MENU </p>\r\n          {realThis.mapDrinks()}\r\n\r\n        </div>\r\n      );\r\n    }\r\n  });\r\n\r\n  let overallRating;\r\n  if (realThis.state.selectedRating === -1) {\r\n    overallRating = \"No reviews to calculate Average Rating\";\r\n  } else {\r\n    overallRating = realThis.state.selectedRating;\r\n  }\r\n\r\n    var MenuReview = createReactClass({\r\n      render: function() {\r\n        //console.log(\"this\")\r\n      return (\r\n        <div id=\"menuReview\">\r\n          <Button onClick = {(e) => realThis.backButtonPressed(e)} id=\"goBackMenuButton\" icon ='left arrow' content = \"Back to Menu\"/>\r\n          <div className = \"selectedMenu\">\r\n            {realThis.state.selectedMenu}\r\n            </div>\r\n            <div className = \"selectedDetails\">\r\n              ${realThis.state.selectedPrice} <br/>\r\n              Average Rating: {overallRating}\r\n            </div>\r\n          <div className = \"selectedReview\">\r\n            {Object.keys(realThis.state.selectedReview).map((review, idx) =>\r\n              // <p key={idx}>{realThis.state.selectedReview[idx]}</p>\r\n              <div className = \"reviewSection\" key={idx}>\r\n               <div> {realThis.state.selectedReview[review].rating}\r\n               <StarRatings\r\n                 rating={realThis.state.selectedReview[review].rating}\r\n                 starDimension=\"15px\"\r\n                 starSpacing=\"2px\"\r\n                 starRatedColor=\"#6FB59B\"\r\n                 starEmptyColor = \"#D9D9D9\"\r\n               />\r\n               </div>\r\n              <p id = \"optionsSection\"> Size [{realThis.state.selectedReview[review].options.size}] ·\r\n              Ice [{realThis.state.selectedReview[review].options.ice}] ·\r\n              Sugar [{realThis.state.selectedReview[review].options.sugar}] ·\r\n              Toppings [{realThis.mapToppings(realThis.state.selectedReview[review].options.toppings)}] </p>\r\n\r\n              <p> {realThis.state.selectedReview[review].description} </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n\r\n        </div>\r\n      );\r\n    }\r\n  });\r\n\r\n    //console.log({place})\r\n    //console.log(place.place.name)\r\n    let button;\r\n\r\n    if (firebase.auth().currentUser) {\r\n      button = <Link to={{\r\n                pathname: \"/WriteReview\",\r\n                state: {\r\n                  place: place,\r\n                  search: search,\r\n                  ourPlaceId: this.state.ourId\r\n                }}} >\r\n                  <Button id=\"reviewButton\" > Leave a Review </Button>\r\n                </Link>\r\n    } else {\r\n      button = <p className=\"reviewLog\"> Log in to leave a review </p>;\r\n    }\r\n\r\n    return (\r\n      <div className = \"placeReview\">\r\n         <Link to={{\r\n                   pathname: \"/Results/\" + this.props.location.state.search,\r\n                   state: {\r\n                     place: this.props.location.state.search\r\n                   }}} >\r\n                   <Button id=\"goBack\" icon ='left arrow' content='Back to Search Results'  labelPosition='left'/>\r\n                 </Link>\r\n        <div className = \"placeInfo\">\r\n          <p className = \"placeInfoRow\"> <span id = \"placeName\"> {place.name} </span> {button}</p>\r\n          <p> Place Rating: {place.rating} </p>\r\n\r\n        </div>\r\n\r\n        <div className = \"menuInfo\">\r\n          { this.state.showMenuList ? <MenuList /> : <MenuReview /> }\r\n        </div>\r\n      </div>\r\n\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default PlaceReview;\r\n","import './WriteReview.scss';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'semantic-ui-react'\r\nimport createReactClass from 'create-react-class';\r\nimport { Dropdown } from 'semantic-ui-react';\r\nimport { Form } from 'semantic-ui-react';\r\nimport * as firebase from 'firebase';\r\n\r\nclass WriteReview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      menuOptions: [\r\n        {\r\n          key: \"mango oolong tea\",\r\n          value: \"mango oolong tea\",\r\n          text: \"Mango Oolong Tea\"\r\n        },\r\n        {\r\n          key: \"peach oolong tea\",\r\n          value: \"peach oolong tea\",\r\n          text: \"Peach Oolong Tea\"\r\n        },\r\n        {\r\n          key: \"oolong tea\",\r\n          value: \"oolong tea\",\r\n          text: \"Oolong Tea\"\r\n        },\r\n        {\r\n          key: \"oolong milk tea\",\r\n          value: \"oolong milk tea\",\r\n          text: \"Oolong Milk Tea\"\r\n        }\r\n      ],\r\n      selectedMenu: \"\",\r\n      selectedSize: \"\",\r\n      selectedIce: \"\",\r\n      selectedSugar: \"\",\r\n      selectedTopping: [],\r\n      selectedRating: \"\",\r\n      additionalReview: \"\",\r\n      menuOC: 0,\r\n      sizeOC: 0,\r\n      iceOC: 0,\r\n      sugarOC: 0,\r\n      toppingOC: 0,\r\n      ratingOC: 0,\r\n      showMenuWarning: false,\r\n      showSizeWarning: false,\r\n      showIceWarning: false,\r\n      showSugarWarning: false,\r\n      showRatingWarning: false\r\n    }\r\n\r\n    this.handleMenuSelection = this.handleMenuSelection.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const rootRef = firebase.database().ref();\r\n    const placesRef = rootRef.child('places');\r\n    const drinksRef = rootRef.child('drinks');\r\n    const place = this.props.location.state.place;\r\n    const ourPlaceId = this.props.location.state.ourPlaceId; //\"PLC-\" + this.props.location.state.place.place_id;\r\n    var realThis = this;\r\n    // console.log('get drinks', ourPlaceId);\r\n\r\n    // var listOfDrinks = [];\r\n    var arr = [];\r\n\r\n    drinksRef.orderByChild('place').equalTo(ourPlaceId).on(\"value\", function(snapshot) {\r\n      // console.log('les drinks', snapshot.val());\r\n\r\n      snapshot.forEach(function(data) {\r\n        // console.log('data val', data.val(), data.key);\r\n        arr.push({\r\n          key: data.key,\r\n          value: data.key,\r\n          text: data.val().name,\r\n        });\r\n    });\r\n    // console.log('arr', arr, realThis.state.menuOptions);\r\n    realThis.setState({\r\n      menuOptions: arr,\r\n    });\r\n\r\n  });\r\n\r\n\r\n\r\n  }\r\n\r\n  handleMenuSelection = (e, {value}) => {\r\n    this.setState({selectedMenu: value})\r\n    this.setState({menuOC: this.state.menuOC + 1});\r\n    this.setState({showMenuWarning: false});\r\n  }\r\n\r\n  handleSizeSelection = (e, {value}) => {\r\n    this.setState({selectedSize: value})\r\n    this.setState({sizeOC: this.state.sizeOC + 1});\r\n    this.setState({showSizeWarning: false});\r\n  }\r\n\r\n  handleIceSelection = (e, {value}) => {\r\n    this.setState({selectedIce: value});\r\n    this.setState({iceOC: this.state.iceOC + 1});\r\n    this.setState({showIceWarning: false});\r\n  }\r\n\r\n  handleSugarSelection = (e, {value}) => {\r\n    this.setState({selectedSugar: value});\r\n    this.setState({sugarOC: this.state.sugarOC + 1})\r\n    this.setState({showSugarWarning: false});\r\n  }\r\n\r\n  handleToppingSelection = (e, {value}) => {\r\n    this.setState({selectedTopping: value});\r\n    this.setState({toppingOC: this.state.toppingOC + 1})\r\n  }\r\n\r\n  handleRatingSelection = (e, {value}) => {\r\n    this.setState({selectedRating: value});\r\n    this.setState({ratingOC: this.state.ratingOC + 1})\r\n    this.setState({showRatingWarning: false});\r\n  }\r\n\r\n  handleAdditionalReview = (e, {value}) => {\r\n    this.setState({additionalReview: value})\r\n  }\r\n\r\n  handleSubmitReview = () => {\r\n    if (this.state.menuOC === 0) {\r\n      this.setState({showMenuWarning: true});\r\n    }\r\n    if (this.state.sizeOC === 0) {\r\n      console.log(\"Select Size\")\r\n      this.setState({showSizeWarning: true});\r\n    }\r\n    if (this.state.iceOC === 0) {\r\n      console.log(\"invalid ice\")\r\n      this.setState({showIceWarning: true});\r\n    }\r\n    if (this.state.sugarOC === 0) {\r\n      console.log(\"invalid sugar\")\r\n      this.setState({showSugarWarning: true});\r\n    }\r\n    if (this.state.ratingOC === 0) {\r\n      console.log(\"invalid rating\")\r\n      this.setState({showRatingWarning: true});\r\n    }\r\n\r\n    else {\r\n      //submit review\r\n      console.log('submit review for', this.state.selectedMenu);\r\n      const rootRef = firebase.database().ref();\r\n      const reviewsRef = rootRef.child('reviews');\r\n      const drinksRef = rootRef.child('drinks');\r\n      const place = this.props.location.state.place;\r\n      var realThis = this;\r\n\r\n      const ourDrinkId = this.state.selectedMenu;\r\n      const ourPlaceId = this.props.location.state.ourPlaceId; //\"PLC-\" + this.props.location.state.place.place_id;\r\n      const ourRating = this.state.selectedRating;\r\n      let finalSelectedTopping = this.state.selectedTopping;\r\n      if (this.state.selectedTopping.includes(\"no topping\") && this.state.selectedTopping.length != 1) {\r\n        finalSelectedTopping.splice(finalSelectedTopping.indexOf(\"no topping\"), 1);\r\n        console.log(finalSelectedTopping);\r\n      }\r\n      const ourOptions = {\r\n        size: this.state.selectedSize,\r\n        ice: this.state.selectedIce,\r\n        sugar: this.state.selectedSugar,\r\n        toppings: finalSelectedTopping,\r\n      }\r\n      const ourDescription = this.state.additionalReview;\r\n\r\n      // make new review\r\n      var newReviewRef = reviewsRef.push();\r\n      const ourReviewId = \"RVW\" + newReviewRef.key;\r\n      var newReview = {\r\n        drinkId: ourDrinkId,\r\n        placeId: ourPlaceId,\r\n        options: ourOptions,\r\n        rating: ourRating,\r\n        description: ourDescription,\r\n      }\r\n\r\n      // send new review to firebase\r\n      reviewsRef.child(ourReviewId).set(newReview);\r\n\r\n      // update drinks array to contain ourReviewId\r\n      drinksRef.child(ourDrinkId).child('reviews').child(ourReviewId).set(ourReviewId);\r\n\r\n      // update user.reviews to contain ourReviewId\r\n      rootRef.child('users').child(firebase.auth().currentUser.uid).child('reviews').child(ourReviewId).set(ourReviewId);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    const place = this.props.location.state.place;\r\n    // const menuOptions = this.state.menuOptions;\r\n    // console.log('the real menu options', this.state.menuOptions);\r\n    // console.log('this place ', this.props.location.state);\r\n    // console.log('t', this.props.location);\r\n\r\n    const iceOptions = [\r\n      {\r\n        key: \"0%\",\r\n        value: \"0%\",\r\n        text: \"0%\"\r\n      },\r\n      {\r\n        key: \"25%\",\r\n        value: \"25%\",\r\n        text: \"25%\"\r\n      },\r\n      {\r\n        key: \"50%\",\r\n        value: \"50%\",\r\n        text: \"50%\"\r\n      },\r\n      {\r\n        key: \"75%\",\r\n        value: \"75%\",\r\n        text: \"75%\"\r\n      },\r\n      {\r\n        key: \"100%\",\r\n        value: \"100%\",\r\n        text: \"100%\"\r\n      },\r\n      {\r\n        key: \"33%\",\r\n        value: \"33%\",\r\n        text: \"33%\"\r\n      },\r\n      {\r\n        key: \"66%\",\r\n        value: \"66%\",\r\n        text: \"66%\"\r\n      }\r\n    ];\r\n\r\n    const sugarOptions = [\r\n      {\r\n        key: \"0%\",\r\n        value: \"0%\",\r\n        text: \"0%\"\r\n      },\r\n      {\r\n        key: \"25%\",\r\n        value: \"25%\",\r\n        text: \"25%\"\r\n      },\r\n      {\r\n        key: \"50%\",\r\n        value: \"50%\",\r\n        text: \"50%\"\r\n      },\r\n      {\r\n        key: \"75%\",\r\n        value: \"75%\",\r\n        text: \"75%\"\r\n      },\r\n      {\r\n        key: \"100%\",\r\n        value: \"100%\",\r\n        text: \"100%\"\r\n      },\r\n      {\r\n        key: \"less\",\r\n        value: \"less\",\r\n        text: \"less\"\r\n      },\r\n      {\r\n        key: \"normal\",\r\n        value: \"normal\",\r\n        text: \"normal\"\r\n      },\r\n      {\r\n        key: \"more\",\r\n        value: \"more\",\r\n        text: \"more\"\r\n      }\r\n\r\n    ];\r\n\r\n    const sizeOptions = [\r\n      {\r\n        key: \"S\",\r\n        value: \"S\",\r\n        text: \"S\"\r\n      },\r\n      {\r\n        key: \"M\",\r\n        value: \"M\",\r\n        text: \"M\"\r\n      },\r\n      {\r\n        key: \"L\",\r\n        value: \"L\",\r\n        text: \"L\"\r\n      },\r\n      {\r\n        key: \"XL\",\r\n        value: \"XL\",\r\n        text: \"XL\"\r\n      }\r\n    ];\r\n\r\n    const toppingOptions = [\r\n      {\r\n        key: \"no topping\",\r\n        value: \"no topping\",\r\n        text: \"no topping\"\r\n      },\r\n      {\r\n        key: \"pudding\",\r\n        value: \"pudding\",\r\n        text: \"pudding\"\r\n      },\r\n      {\r\n        key: \"tapioca\",\r\n        value: \"tapioca\",\r\n        text: \"tapioca\"\r\n      },\r\n      {\r\n        key: \"nata jelly\",\r\n        value: \"nata jelly\",\r\n        text: \"nata jelly\"\r\n      },\r\n      {\r\n        key: \"red bean\",\r\n        value: \"red bean\",\r\n        text: \"red bean\"\r\n      },\r\n      {\r\n        key: \"herbal jelly\",\r\n        value: \"herbal jelly\",\r\n        text: \"herbal jelly\"\r\n      },\r\n      {\r\n        key: \"aloe jelly\",\r\n        value: \"aloe jelly\",\r\n        text: \"aloe jelly\"\r\n      },\r\n      {\r\n        key: \"fig jelly\",\r\n        value: \"fig jelly\",\r\n        text: \"fig jelly\"\r\n      },\r\n      {\r\n        key: \"oreo\",\r\n        value: \"oreo\",\r\n        text: \"oreo\"\r\n      }\r\n    ];\r\n\r\n    const ratingOptions = [\r\n      {\r\n        key: 1,\r\n        value: 1,\r\n        text: 1\r\n      },\r\n      {\r\n        key: 2,\r\n        value: 2,\r\n        text: 2\r\n      },\r\n      {\r\n        key: 3,\r\n        value: 3,\r\n        text: 3\r\n      },\r\n      {\r\n        key: 4,\r\n        value: 4,\r\n        text: 4\r\n      },\r\n      {\r\n        key: 5,\r\n        value: 5,\r\n        text: 5\r\n      }\r\n    ];\r\n\r\n    var Warning = createReactClass({\r\n      render: function() {\r\n      return (\r\n        <div id=\"warning\" className=\"select-warning\">\r\n          Select\r\n        </div>\r\n      );\r\n    }\r\n  });\r\n\r\n\r\n\r\n\r\n    return (\r\n      <div className = \"WriteReview\">\r\n        <div className = \"review-section\">\r\n        <p id = \"review-title\"> Write a Review for {place.name} </p>\r\n        Menu to review *\r\n        { this.state.showMenuWarning ? <Warning /> : null }\r\n        <Dropdown className = \"dropdown\"\r\n        placeholder='Search | Select'\r\n        fluid\r\n        search\r\n        selection\r\n\r\n        options={this.state.menuOptions}\r\n        onChange={(e, { value }) => this.handleMenuSelection(e, { value })}\r\n        />\r\n        Size Option *\r\n        { this.state.showSizeWarning ? <Warning /> : null }\r\n        <Dropdown className = \"dropdown\"\r\n          placeholder='Select Size Option'\r\n          fluid\r\n          selection\r\n          options={sizeOptions}\r\n          onChange={(e, { value }) => this.handleSizeSelection(e, { value })}\r\n        />\r\n        Ice Level *\r\n        { this.state.showIceWarning ? <Warning /> : null }\r\n        <Dropdown className = \"dropdown\"\r\n          placeholder='Select Ice Level'\r\n          fluid\r\n          selection\r\n          options={iceOptions}\r\n          onChange={(e, { value }) => this.handleIceSelection(e, { value })}\r\n        />\r\n        Sugar Level *\r\n        { this.state.showSugarWarning ? <Warning /> : null }\r\n        <Dropdown className = \"dropdown\"\r\n          placeholder='Select Sugar Level'\r\n          fluid\r\n          selection\r\n          options={sugarOptions}\r\n          onChange={(e, { value }) => this.handleSugarSelection(e, { value })}\r\n        />\r\n        Topping(s) *\r\n        <Dropdown className = \"dropdown\"\r\n          placeholder='Search | Select Topping(s)'\r\n          fluid\r\n          selection\r\n          multiple\r\n          search\r\n          options={toppingOptions}\r\n          onChange={(e, { value }) => this.handleToppingSelection(e, { value })}\r\n        />\r\n        Rating *\r\n        { this.state.showRatingWarning ? <Warning /> : null }\r\n        <Dropdown className = \"dropdown\"\r\n          placeholder='Rating'\r\n          fluid\r\n          selection\r\n          options={ratingOptions}\r\n          onChange={(e, { value }) => this.handleRatingSelection(e, { value })}\r\n        />\r\n        <Form>\r\n          <Form.TextArea label='Additional Review'\r\n          placeholder='Tell us more about your experience'\r\n          onChange={(e, { value }) => this.handleAdditionalReview(e, { value })}\r\n          />\r\n        </Form>\r\n        <div className = \"button-row\">\r\n        <Link to={{\r\n          pathname: \"/PlaceReview\",\r\n          state: {\r\n            place: this.props.location.state.place,\r\n            search: this.props.location.state.search\r\n          }}}>\r\n          <Button onClick = {this.handleSubmitReview.bind(this)}> Submit </Button> <Button> Cancel </Button>\r\n        </Link>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default WriteReview;\r\n","import React, { Component } from 'react';\r\nimport Autosuggest from 'react-bootstrap-autosuggest';\r\nimport { Button } from 'semantic-ui-react'\r\nimport { Dropdown } from 'semantic-ui-react'\r\nimport './SearchForDrink.scss';\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass SearchForDrink extends Component {\r\n  //once we get drinks database\r\n  /*\r\n    const stateOptions = _.map(addressDefinitions.state, (state, index) => ({\r\n    key: addressDefinitions.state_abbr[index],\r\n    text: state,\r\n    value: addressDefinitions.state_abbr[index],\r\n  }))\r\n  */\r\n\r\n  render() {\r\n    const bobaDrinks = [{name: \"Oolong Milk Tea\"}, {name: \"Oolong Peach Tea\"}, {name: \"Oolong Tea\"}, {name: \"Green Tea\"}]\r\n    const drinkOptions = bobaDrinks.map(item => ({\r\n    key: item.name,\r\n    text: item.name,\r\n    value: item.name\r\n  }))\r\n    return (\r\n\r\n      <div className=\"SearchForDrink\">\r\n        <div className = \"SearchSection\">\r\n         <p id = \"instruction\"> Search for one or more boba drinks. </p>\r\n         <p></p>\r\n         <Dropdown id = \"search-bar\"\r\n         placeholder = \"Boba drink\"\r\n         fluid\r\n         multiple\r\n         search\r\n         selection\r\n         options = {drinkOptions} />\r\n         <Link to={{\r\n              pathname: \"/Results\",\r\n              state: {\r\n                place: this.props.location.state.place\r\n              }}}>\r\n           <Button className=\"search-button\">Search</Button>\r\n         </Link>\r\n         <Link to={{\r\n              pathname: \"/Results\",\r\n              state: {\r\n                place: this.props.location.state.place \r\n              }}}>\r\n          <Button id = \"skip-button\"> SKIP and show me all the boba places </Button>\r\n         </Link>\r\n         </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForDrink;\r\n\r\n","import './Header.scss';\r\nimport React, { Component } from 'react';\r\nimport { Button, Icon } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\nimport * as firebase from 'firebase';\r\n\r\nclass Header extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    var user = firebase.auth().currentUser;\r\n\r\n    if (user){\r\n      this.props.updatelogin(true)\r\n    }\r\n\r\n    this.state = {\r\n      menu: false\r\n    };\r\n\r\n    this.signout = this.signout.bind(this);\r\n    this.dropdown = this.dropdown.bind(this);\r\n    this.hide = this.hide.bind(this);\r\n  }\r\n\r\n  signout(){\r\n    var user = firebase.auth().currentUser;\r\n    if (user){\r\n      firebase.auth().signOut();\r\n      console.log(\"Signing out user\");\r\n    }\r\n    this.props.updatelogin(false);\r\n   }\r\n\r\n  dropdown() {\r\n    this.setState({\r\n      menu: !this.state.menu\r\n    }, () => {\r\n      document.addEventListener('click', this.hide);\r\n    });\r\n  }\r\n\r\n  hide(e) {\r\n    this.setState({\r\n      menu: false\r\n    }, () => {\r\n      document.removeEventListener('click', this.hide);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const loggedIn = this.props.loggedIn;\r\n    let button;\r\n    let hello;\r\n    if (loggedIn) {\r\n      button = <div className=\"buttons\">\r\n                <Icon id=\"menu\" link name='bars' size='big' \r\n                onClick={() => this.dropdown()}/>\r\n                {\r\n                  this.state.menu && \r\n                  (\r\n                    <ul className=\"dropdown-menu options\">\r\n                    <Link to=\"/Profile\">\r\n                      <li> Profile </li>\r\n                    </Link>\r\n                    <Link to=\"/\">\r\n                      <li onClick={() => this.signout()}> Sign Out </li>\r\n                    </Link>\r\n                    </ul>\r\n                  )\r\n                }\r\n               </div>\r\n      hello = <div className=\"username\">\r\n              {firebase.auth().currentUser.email}\r\n              </div>\r\n    } else {\r\n      button = <div className=\"userProfile\">\r\n                <Link to={{\r\n                  pathname: \"/Login\",\r\n                  state: {\r\n                    route: window.location.hash\r\n                  }}} >\r\n                  <Button id=\"login-button\" basic color='black'> Log In </Button>\r\n                </Link>\r\n                <Link to=\"/Signup\">\r\n                    <Button id=\"signup-button\" basic color='black'> Sign Up </Button>\r\n                </Link>\r\n               </div>\r\n    }\r\n    return (\r\n      <div className=\"Header\">\r\n        <Link to=\"/\" className=\"title-box\">\r\n          <img src={require('./logo.png')} className=\"logo\"></img>\r\n          <span className=\"title\"> Boba Buddy </span>\r\n        </Link>\r\n        <div className=\"userProfile\">\r\n          {hello}\r\n          {button}\r\n        </div>\r\n      </div>\r\n     );\r\n   }\r\n}\r\n\r\nexport default Header;\r\n","import './Profile.scss';\r\nimport React, { Component } from 'react';\r\nimport {Form, FormControl} from 'react-bootstrap';\r\nimport { Button } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\nimport * as firebase from 'firebase';\r\n\r\nclass Profile extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n        oldPassword: '',\r\n        newPassword: '',\r\n        message: '',\r\n        edit: false,\r\n        userReviews: []\r\n    }\r\n\r\n    this.editPassword = this.editPassword.bind(this);\r\n    this.handleError = this.handleError.bind(this);\r\n    this.handleChangeOldPassword = this.handleChangeOldPassword.bind(this);\r\n    this.handleChangeNewPassword = this.handleChangeNewPassword.bind(this);\r\n    this.changePassword = this.changePassword.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n      \r\n    let dbuser = {};\r\n    let reviews;\r\n    var realThis = this;\r\n    let user = firebase.auth().currentUser.email;\r\n    var uref = firebase.database().ref().child('users');\r\n    uref.orderByChild('email').equalTo(user).on('value', function(snapshot){\r\n        if (snapshot.exists()){\r\n            snapshot.forEach(function(data) {\r\n                dbuser[data.key] = data.val;\r\n            });\r\n        }\r\n        \r\n        realThis.setState({\r\n            userReviews: dbuser.reviews\r\n        })\r\n        \r\n        console.log(dbuser);\r\n        \r\n    });\r\n  }\r\n\r\n  editPassword() {\r\n    this.setState({\r\n      edit: true,\r\n      message: ''\r\n    })\r\n  }\r\n\r\n  handleChangeOldPassword(e) {\r\n    this.setState({\r\n      oldPassword: e.target.value\r\n    });\r\n  }\r\n\r\n  handleChangeNewPassword(e) {\r\n    this.setState({\r\n      newPassword: e.target.value\r\n    })\r\n  }\r\n\r\n  changePassword() {\r\n    var user = firebase.auth().currentUser;\r\n\r\n    var credential = firebase.auth.EmailAuthProvider.credential(\r\n      user.email,\r\n      this.state.oldPassword\r\n    )\r\n\r\n    user.reauthenticateAndRetrieveDataWithCredential(credential).then(() => {\r\n      user.updatePassword(this.state.newPassword)\r\n      .then(this.handleChange(), (err)=>this.handleError(err))\r\n      .catch(e=>this.handleError(e.message));\r\n    }, (err)=>this.handleError(err)).catch(e=>this.handleError(e.message));\r\n  }\r\n\r\n  handleError(message) {\r\n    this.setState({\r\n      message: message.message,\r\n      edit: true\r\n    })\r\n  }\r\n\r\n  handleChange() {\r\n    this.setState({\r\n      message: 'Password Change Successful',\r\n      edit: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let button;\r\n    let errorMessage = <p></p>\r\n      \r\n    if (this.state.message) {\r\n      errorMessage = <p className=\"errorMessage\"> {this.state.message} </p>\r\n    }\r\n\r\n    if (this.state.edit) {\r\n      button = <div>\r\n                <Form>\r\n                <Form.Group controlId=\"formGroupPassword\">\r\n                  <FormControl type=\"password\" onChange={this.handleChangeOldPassword} placeholder=\"Current Password\" />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formGroupPassword\">\r\n                  <FormControl type=\"password\" onChange={this.handleChangeNewPassword} placeholder=\"New Password\" />\r\n                </Form.Group>\r\n                </Form>\r\n                <Button id=\"change-button\" onClick={() => this.changePassword()}> Change Password </Button>\r\n               </div>\r\n    } else {\r\n      button = <Button basic color=\"black\" id=\"edit-password\" onClick={() => this.editPassword()}> Edit Password </Button>\r\n    }\r\n\r\n    return (\r\n      <div className=\"profileComponent\">\r\n        <h2 className=\"profileTitle\"> Your Profile </h2>\r\n        <div className=\"yourProfile\">\r\n          <p>Email: {firebase.auth().currentUser.email}</p>\r\n          {errorMessage}\r\n          {button}\r\n        </div>\r\n        <h2 className=\"profileTitle\"> Your Reviews </h2>\r\n        <div className=\"yourReviews\">\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport {HashRouter as Router, Route, Switch, Redirect} from 'react-router-dom'\r\nimport Home from '../Home/Home.js';\r\nimport Login from '../Login/Login.js';\r\nimport Signup from '../Signup/Signup.js';\r\nimport Results from '../Results/Results.js';\r\nimport PlaceReview from '../PlaceReview/PlaceReview.js';\r\nimport WriteReview from '../WriteReview/WriteReview.js';\r\nimport SearchForDrink from '../Specific-Drink/SearchForDrink.js';\r\nimport Header from '../Header/Header.js';\r\nimport Profile from '../Profile/Profile.js';\r\nimport * as firebase from 'firebase';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      loggedIn: false\r\n    };\r\n\r\n    let logged = false;\r\n    if (firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        logged = true;\r\n        this.setState({\r\n          loggedIn: logged\r\n        });\r\n      }\r\n    })) \r\n    console.log(\"app\");\r\n    console.log(this.state.loggedIn);\r\n\r\n    this.updatelogin = this.updatelogin;\r\n  }\r\n\r\n  updatelogin = (loggedIn) => {\r\n    this.setState({\r\n      loggedIn: loggedIn,\r\n    });\r\n    if (loggedIn) {\r\n      return <Redirect to=\"/Profile\"/>;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router basename=\"/\">\r\n        <Header updatelogin={this.updatelogin} loggedIn={this.state.loggedIn}/>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home}/>\r\n          <Route exact path=\"/Login\" render={() => <Login updatelogin={this.updatelogin} loggedIn={this.state.loggedIn}/>}/>\r\n          <Route exact path=\"/Signup\" render={() => <Signup updatelogin={this.updatelogin}/>}/>\r\n          <Route exact path=\"/Profile\" render={() => <Profile updatelogin={this.updatelogin}/>}/>\r\n          <Route path=\"/Results/:id\" component={Results}/>\r\n          <Route exact path=\"/PlaceReview\" component={PlaceReview}/>\r\n          <Route exact path=\"/WriteReview\" component={WriteReview}/>\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport * as firebase from 'firebase';\r\nimport 'typeface-gugi';\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyBeSlCn1ILfNQBg975d47IqsmavBAJRaKc\",\r\n    authDomain: \"webdev-final-project-mk-i.firebaseapp.com\",\r\n    databaseURL: \"https://webdev-final-project-mk-i.firebaseio.com\",\r\n    projectId: \"webdev-final-project-mk-i\",\r\n    storageBucket: \"webdev-final-project-mk-i.appspot.com\",\r\n    messagingSenderId: \"257965645347\"\r\n  };\r\n\r\n//require('typeface-gugi');\r\nfirebase.initializeApp(config);\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}